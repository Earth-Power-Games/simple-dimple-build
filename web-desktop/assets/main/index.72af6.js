window.__require=function t(e,o,n){function r(i,a){if(!o[i]){if(!e[i]){var s=i.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+i+"'")}i=s}var u=o[i]={exports:{}};e[i][0].call(u.exports,function(t){return r(e[i][1][t]||t)},u,u.exports,t,e,o,n)}return o[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<n.length;i++)r(n[i]);return r}({BossHandler:[function(t,e,o){"use strict";cc._RF.push(e,"9ba83WH5qlFE5ITXp8VbGeq","BossHandler");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,l=t("./Wallet"),u=t("./CharacterManager"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.button=null,e.progressBar=null,e.wallet=null,e.characterManager=null,e.config={allowedTime:5,moneyNeeded:100},e.isActive=!1,e.currentTime=0,e}return r(e,t),e.prototype.onLoad=function(){this.button.active=!1,this.progressBar.node.active=!1},e.prototype.onEnable=function(){this.wallet.node.on("AMOUNT_CHANGED",this.onWalletAmountChanged,this),this.characterManager.mainCharacter.node.on("BUBBLE_CLICKED",this.onBubbleClicked,this),this.characterManager.node.on("CHARACTER_GENERATED",this.onCharacterGenerated,this)},e.prototype.onDisable=function(){this.wallet.node.off("AMOUNT_CHANGED",this.onWalletAmountChanged,this),this.characterManager.mainCharacter.node.off("BUBBLE_CLICKED",this.onBubbleClicked,this),this.characterManager.node.off("CHARACTER_GENERATED",this.onCharacterGenerated,this)},e.prototype.update=function(t){this.isActive&&(this.currentTime+=t,this.progressBar.progress=this.currentTime/this.config.allowedTime,this.currentTime>=this.config.allowedTime&&(this.isActive=!1,this.wallet.setMoney(66),this.progressBar.node.active=!1,console.log("lose against boss")))},e.prototype.onCharacterGenerated=function(t){"boss"==t.type&&(this.wallet.subtractMoney(this.config.moneyNeeded),this.currentTime=this.progressBar.progress=0,this.isActive=!0,this.button.active=!1,this.progressBar.node.active=!0)},e.prototype.onBubbleClicked=function(t){t.isEnd&&this.isActive&&(this.isActive=!1,this.wallet.setMoney(77),this.progressBar.node.active=!1,console.log("boss defeated"))},e.prototype.onWalletAmountChanged=function(){this.wallet.data.money>=this.config.moneyNeeded&&!this.isActive&&(this.button.active=!0)},e.prototype.onBossButtonClicked=function(){this.characterManager.generateBoss()},c([s(cc.Node)],e.prototype,"button",void 0),c([s(cc.ProgressBar)],e.prototype,"progressBar",void 0),c([s(l.default)],e.prototype,"wallet",void 0),c([s(u.default)],e.prototype,"characterManager",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./CharacterManager":"CharacterManager","./Wallet":"Wallet"}],BubbleClickHandler:[function(t,e,o){"use strict";cc._RF.push(e,"b2efb80fT1F7L+UGzIcXuSE","BubbleClickHandler");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,l=t("./CharacterManager"),u=t("./Wallet"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.characterManager=null,e.wallet=null,e.audioSource=null,e.clickAudioClip=null,e.rewardConfig={singleBubble:1,fullCharacter:10,boss:25},e}return r(e,t),e.prototype.start=function(){this.audioSource.clip=this.clickAudioClip},e.prototype.onEnable=function(){this.characterManager.mainCharacter.node.on("BUBBLE_CLICKED",this.onBubbleClicked,this)},e.prototype.onDisable=function(){this.characterManager.mainCharacter.node.off("BUBBLE_CLICKED",this.onBubbleClicked,this)},e.prototype.onBubbleClicked=function(t){t.isEnd&&this.wallet.addMoney(this.rewardConfig.fullCharacter),this.wallet.addMoney(this.rewardConfig.singleBubble),this.audioSource.play()},c([s(l.default)],e.prototype,"characterManager",void 0),c([s(u.default)],e.prototype,"wallet",void 0),c([s(cc.AudioSource)],e.prototype,"audioSource",void 0),c([s(cc.AudioClip)],e.prototype,"clickAudioClip",void 0),c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./CharacterManager":"CharacterManager","./Wallet":"Wallet"}],BubbleCountLabel:[function(t,e,o){"use strict";cc._RF.push(e,"7f99ekorrxCZql2P4e3CQOA","BubbleCountLabel");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,l=t("../CharacterManager"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.characterManager=null,e.label=null,e.amount=0,e.maxAmount=0,e}return r(e,t),e.prototype.onEnable=function(){this.characterManager.mainCharacter.node.on("BUBBLE_CLICKED",this.onBubbleClicked,this),this.characterManager.mainCharacter.node.on("INITIALIZED",this.onCharacterInitialized,this)},e.prototype.onDisable=function(){this.characterManager.mainCharacter.node.off("BUBBLE_CLICKED",this.onBubbleClicked,this),this.characterManager.mainCharacter.node.off("INITIALIZED",this.onCharacterInitialized,this)},e.prototype.onBubbleClicked=function(t){var e=t.amount,o=t.isEnd;this.amount=o?0:e,this.updateVisual()},e.prototype.onCharacterInitialized=function(t){var e=t.length;this.maxAmount=e,this.updateVisual()},e.prototype.updateVisual=function(){this.label.string=this.amount+"/"+this.maxAmount},c([s(l.default)],e.prototype,"characterManager",void 0),c([s(cc.Label)],e.prototype,"label",void 0),c([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../CharacterManager":"CharacterManager"}],Bubble:[function(t,e,o){"use strict";cc._RF.push(e,"5bc4bEYHrBIp7IncWlfDbfS","Bubble");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isActive=!0,e.sprite=null,e.activeSprite=null,e.inactiveSprite=null,e.activeColor="",e.inactiveColor="",e}return r(e,t),e.prototype.onLoad=function(){this.sprite=this.node.getComponent(cc.Sprite)},e.prototype.initSprites=function(t,e){this.activeSprite=t,this.inactiveSprite=e},e.prototype.initColors=function(t,e){this.activeColor=t,this.inactiveColor=e},e.prototype.changeState=function(t){this.isActive=t,this.sprite.spriteFrame=t?this.activeSprite:this.inactiveSprite,this.node.color=cc.Color.fromHEX(new cc.Color,t?this.activeColor:this.inactiveColor)},c([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],CharacterManager:[function(t,e,o){"use strict";cc._RF.push(e,"7b4d9jjQU5MdpQ5fBCR29L2","CharacterManager");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i},i=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,c){function i(t){try{s(n.next(t))}catch(e){c(e)}}function a(t){try{s(n.throw(t))}catch(e){c(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(i,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,r,c,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(t){return function(e){return s([t,e])}}function s(c){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,n=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){i.label=c[1];break}if(6===c[0]&&i.label<r[1]){i.label=r[1],r=c;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(c);break}r[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(a){c=[6,a],n=0}finally{o=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<o;e++)for(var c=arguments[e],i=0,a=c.length;i<a;i++,r++)n[r]=c[i];return n};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,u=l.ccclass,p=l.property,f=t("./Character"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainCharacter=null,e.characters=null,e.bosses=null,e.characterIndex=0,e}return r(e,t),e.prototype.onEnable=function(){this.mainCharacter.node.on("BUBBLE_CLICKED",this.onBubbleClicked,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},e.prototype.onDisable=function(){this.mainCharacter.node.off("BUBBLE_CLICKED",this.onBubbleClicked,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},e.prototype.start=function(){this.loadData()},e.prototype.onKeyDown=function(t){t.keyCode==cc.macro.KEY.space&&this.mainCharacter.startAutoClick()},e.prototype.onBubbleClicked=function(t){t.isEnd&&this.generateCharacter()},e.prototype.generateCharacter=function(){this.characterIndex=(this.characterIndex+1)%this.characters.length,this.mainCharacter.init(this.getNextCharacter()),this.node.emit("CHARACTER_GENERATED",{type:"normal"})},e.prototype.generateBoss=function(){this.node.emit("CHARACTER_GENERATED",{type:"boss"})},e.prototype.loadData=function(){return i(this,void 0,void 0,function(){var t,e,o,n=this;return a(this,function(r){switch(r.label){case 0:return[4,this.loadConfigs("config/characters")];case 1:return t=r.sent(),e=t.map(function(t){return t.json}).map(function(t){return i(n,void 0,void 0,function(){var e,o,n,r,c;return a(this,function(i){switch(i.label){case 0:return e=t.sprite,o=t.colorActive,n=t.colorInactive,r=t.bubbles,c={},[4,this.loadSprite(e)];case 1:return[2,(c.sprite=i.sent(),c.isBoss=!1,c.colorActive=o,c.colorInactive=n,c.bubbles=r.map(function(t){return new cc.Vec2(t.x,t.y)}),c)]}})})}),[4,Promise.all(e)];case 2:return o=r.sent(),this.characters=o.filter(function(t){return!t.isBoss}),this.bosses=o.filter(function(t){return t.isBoss}),[2]}})})},e.prototype.getNextCharacter=function(){return this.characters[this.characterIndex]},e.prototype.loadConfigs=function(t){return new Promise(function(e,o){cc.resources.loadDir(t,function(t,n){t&&o(t),e(n)})})},e.prototype.loadSprite=function(t){return new Promise(function(e,o){cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){t&&o(t),e(n)})})},e.prototype.shuffleArray=function(t){for(var e=s(t),o=e.length-1;o>0;o--){var n=Math.floor(Math.random()*(o+1)),r=e[o];e[o]=e[n],e[n]=r}return e},c([p(f.default)],e.prototype,"mainCharacter",void 0),c([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./Character":"Character"}],Character:[function(t,e,o){"use strict";cc._RF.push(e,"68f81Dyc1BGopymCVBYvpfG","Character");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,l=t("./Bubble"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblePrefab=null,e.sprite=null,e.bubblesParent=null,e.activeSprite=null,e.inactiveSprite=null,e.bubbles=null,e.rect=null,e}return r(e,t),e.prototype.onLoad=function(){var t=this.sprite.node,e=t.width,o=t.height,n=new cc.Vec2(e,o).multiplyScalar(.5);this.rect={top:n.y,bottom:-n.y,left:-n.x,right:n.x}},e.prototype.onBubbleClick=function(t){if(t.isActive){t.changeState(!1);var e=this.bubbles.every(function(t){return!t.isActive}),o=this.bubbles.filter(function(t){return!t.isActive}).length;this.node.emit("BUBBLE_CLICKED",{amount:o,isEnd:e})}},e.prototype.startAutoClick=function(){var t=this;if(this.bubbles){var e=this.bubbles.filter(function(t){return t.isActive}),o=e.length;if(o>0){var n=0;this.schedule(function(){t.onBubbleClick(e[n++])},.2,o-1)}}},e.prototype.init=function(t){this.initBubbles(t.bubbles,t.colorActive,t.colorInactive),this.sprite.spriteFrame=t.sprite,this.node.emit("INITIALIZED",{length:this.bubbles.length})},e.prototype.initBubbles=function(t,e,o){var n=this;this.bubblesParent.removeAllChildren(),this.bubbles=t.map(function(t){var e=cc.instantiate(n.bubblePrefab);e.on(cc.Node.EventType.TOUCH_START,function(){return n.onBubbleClick(o)},n),e.parent=n.bubblesParent,e.position=n.convertPosition(t);var o=e.getComponent(l.default);return o}),this.bubbles.forEach(function(t){t.initSprites(n.activeSprite,n.inactiveSprite),t.initColors(e,o),t.changeState(!0)})},e.prototype.convertPosition=function(t){var e=t.x,o=t.y;return e=cc.misc.lerp(this.rect.left,this.rect.right,e),o=cc.misc.lerp(this.rect.bottom,this.rect.top,o),new cc.Vec3(e,o,0)},c([s(cc.Prefab)],e.prototype,"bubblePrefab",void 0),c([s(cc.Sprite)],e.prototype,"sprite",void 0),c([s(cc.Node)],e.prototype,"bubblesParent",void 0),c([s(cc.SpriteFrame)],e.prototype,"activeSprite",void 0),c([s(cc.SpriteFrame)],e.prototype,"inactiveSprite",void 0),c([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./Bubble":"Bubble"}],MenuHandler:[function(t,e,o){"use strict";cc._RF.push(e,"ed361YnjCFHbqrPs6dUdx2+","MenuHandler");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,l=t("../CharacterManager"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.characterManager=null,e.menuPanel=null,e.gameplayPanel=null,e}return r(e,t),e.prototype.start=function(){this.gameplayPanel.active=!1},e.prototype.onPlayButtonClicked=function(){this.menuPanel.active=!1,this.gameplayPanel.active=!0,this.characterManager.generateCharacter()},c([s(l.default)],e.prototype,"characterManager",void 0),c([s(cc.Node)],e.prototype,"menuPanel",void 0),c([s(cc.Node)],e.prototype,"gameplayPanel",void 0),c([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../CharacterManager":"CharacterManager"}],SaveManager:[function(t,e,o){"use strict";cc._RF.push(e,"98093D8+59GppRkVPYCnIMM","SaveManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.save=function(t,e){try{localStorage.setItem(t,e)}catch(o){console.warn(o)}},t.load=function(t){try{return localStorage.getItem(t)}catch(e){console.warn(e)}},t}();o.default=n,cc._RF.pop()},{}],SettingsManager:[function(t,e,o){"use strict";cc._RF.push(e,"d51detbf0BGDo94sG6PBoJI","SettingsManager");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,l=t("./modules/SaveManager"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data={sound:!0},e.audioSources=[],e}return r(e,t),e.prototype.onLoad=function(){var t=l.default.load("settings");t&&(this.data=JSON.parse(t))},e.prototype.start=function(){this.updateSoundState()},e.prototype.updateSoundState=function(){var t=this.data.sound;this.audioSources.forEach(function(e){e.volume=t?1:0}),this.node.emit("SOUND_CHANGED",{active:t})},e.prototype.onSoundButtonClicked=function(){this.data.sound=!this.data.sound,l.default.save("settings",JSON.stringify(this.data)),this.updateSoundState()},c([s([cc.AudioSource])],e.prototype,"audioSources",void 0),c([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./modules/SaveManager":"SaveManager"}],SoundButton:[function(t,e,o){"use strict";cc._RF.push(e,"b186cYai3RHa62ylnAi0ZB3","SoundButton");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,l=t("../SettingsManager"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.settingsManager=null,e.spriteRenderer=null,e.enabledSprite=null,e.disabledSprite=null,e}return r(e,t),e.prototype.onEnable=function(){this.settingsManager.node.on("SOUND_CHANGED",this.onSoundChanged,this)},e.prototype.onDisable=function(){this.settingsManager.node.off("SOUND_CHANGED",this.onSoundChanged,this)},e.prototype.onSoundChanged=function(t){var e=t.active;this.spriteRenderer.spriteFrame=e?this.enabledSprite:this.disabledSprite},c([s(l.default)],e.prototype,"settingsManager",void 0),c([s(cc.Sprite)],e.prototype,"spriteRenderer",void 0),c([s(cc.SpriteFrame)],e.prototype,"enabledSprite",void 0),c([s(cc.SpriteFrame)],e.prototype,"disabledSprite",void 0),c([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../SettingsManager":"SettingsManager"}],WalletCurrencyLabel:[function(t,e,o){"use strict";cc._RF.push(e,"2ea93c42rFF46tGps7mVG3R","WalletCurrencyLabel");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,l=t("../Wallet"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currencyType="money",e.label=null,e.wallet=null,e}return r(e,t),e.prototype.onEnable=function(){this.wallet.node.on("AMOUNT_CHANGED",this.onWalletAmountChanged,this)},e.prototype.onDisable=function(){this.wallet.node.off("AMOUNT_CHANGED",this.onWalletAmountChanged,this)},e.prototype.onWalletAmountChanged=function(){this.updateText()},e.prototype.updateText=function(){this.label.string=""+this.wallet.data[this.currencyType]},c([s],e.prototype,"currencyType",void 0),c([s(cc.Label)],e.prototype,"label",void 0),c([s(l.default)],e.prototype,"wallet",void 0),c([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Wallet":"Wallet"}],Wallet:[function(t,e,o){"use strict";cc._RF.push(e,"02689JoYp5Ekp3z9+Jljzcf","Wallet");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=(i.property,t("./modules/SaveManager")),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data={money:146},e}return r(e,t),e.prototype.onLoad=function(){var t=s.default.load("wallet");t&&(this.data=JSON.parse(t))},e.prototype.start=function(){this.emitMoneyChangedEvent()},e.prototype.save=function(){s.default.save("wallet",JSON.stringify(this.data))},e.prototype.addMoney=function(t){this.data.money+=t,this.save(),this.emitMoneyChangedEvent()},e.prototype.subtractMoney=function(t){this.data.money-=t,this.save(),this.emitMoneyChangedEvent()},e.prototype.setMoney=function(t){this.data.money=t,this.save(),this.emitMoneyChangedEvent()},e.prototype.emitMoneyChangedEvent=function(){this.node.emit("AMOUNT_CHANGED")},c([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./modules/SaveManager":"SaveManager"}],YandexAdv:[function(t,e,o){"use strict";cc._RF.push(e,"076e0vdpYJGAoVLj/4tArY0","YandexAdv");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,l=t("../YandexSDK"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sdk=null,e}return r(e,t),e.prototype.onClickShowInterstitial=function(){this.sdk.showFullscreenAdv({})},e.prototype.onClickShowRewarded=function(){var t={id:"test-rewarded",onOpen:function(){return console.log("test rewarded open")},onRewarded:function(){return console.log("test rewarded end")}};this.sdk.showRewardedAdv(t)},c([s(l.default)],e.prototype,"sdk",void 0),c([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../YandexSDK":"YandexSDK"}],YandexSDK:[function(t,e,o){"use strict";cc._RF.push(e,"59606xF215DvKlUJm7Yi+8n","YandexSDK");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property;function l(){}var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isEditor=!0,e}return r(e,t),e.prototype.onLoad=function(){this.isEditor=void 0===window.ysdk,console.log("Yandex SDK - "+(this.isEditor?"development":"production"))},e.prototype.showFullscreenAdv=function(t){var e,o,n;if(t.onClose=null!==(e=t.onClose)&&void 0!==e?e:l,t.onOpen=null!==(o=t.onOpen)&&void 0!==o?o:l,t.onError=null!==(n=t.onError)&&void 0!==n?n:l,this.isEditor)return t.onOpen(),void this.scheduleOnce(function(){t.onClose()},2);window.ysdk.adv.showFullscreenAdv({callbacks:{onClose:function(e){t.onClose(),console.log("OnInterstitialClosed: "+e)},onOpen:function(){t.onOpen(),console.log("OnInterstitialOpen")},onError:function(e){t.onError(),console.log("OnInterstitialError",e)}}})},e.prototype.showRewardedAdv=function(t){var e,o,n,r;if(t.onClose=null!==(e=t.onClose)&&void 0!==e?e:l,t.onOpen=null!==(o=t.onOpen)&&void 0!==o?o:l,t.onError=null!==(n=t.onError)&&void 0!==n?n:l,t.onRewarded=null!==(r=t.onRewarded)&&void 0!==r?r:l,this.isEditor)return t.onOpen(),void this.scheduleOnce(function(){t.onClose(),t.onRewarded()},2);window.ysdk.adv.showRewardedVideo({callbacks:{onOpen:function(){t.onOpen(),console.log("OnRewardedAdOpened: "+t.id)},onRewarded:function(){t.onRewarded(),console.log("OnRewardedAdWatched: "+t.id)},onClose:function(){t.onClose(),console.log("OnRewardedAdClosed: "+t.id)},onError:function(e){t.onError(),console.log("OnRewardedAdError",e)}}})},c([s],e.prototype,"isEditor",void 0),c([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{}]},{},["BossHandler","Bubble","BubbleClickHandler","Character","CharacterManager","SettingsManager","BubbleCountLabel","MenuHandler","SoundButton","WalletCurrencyLabel","YandexAdv","Wallet","YandexSDK","SaveManager"]);